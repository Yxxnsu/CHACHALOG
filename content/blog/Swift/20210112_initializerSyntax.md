---
title: '🕊 [Swift] 초기화 문법'
date: 2021-01-12 01:00:00
category: 'Swift'
draft: false
showToc: true
---

초기화 문법(Initializer Syntax)

새로운 인스턴스 생성 방법을 공부해보자.

```swift
// 문자열을 Int형으로 바꾸기
let str = "123"
let num = Int(str)
```

이 코드는 생성자 문법으로 생성자를 호출함.  
파라미터로 전달한 문자열을 숫자로 바꿔서 새로운 인스턴스로 리턴함.  
만약 바꿀 수 없다면 nil을 리턴함!

생성자는 인스턴스를 만들 때 사용하는 특별한 메서드임.  
생성자는 메서드와 유사함.

**생성자는 모든 속성의 초깃값을 저장함.  
이런 과정을 인스턴스 초기화라고 함!**

초기화가 완료되지 않으면 컴파일 에러가 발생함;;

```swift
init(파라미터) {
    실행구문
}
```

생성자는 `init` 키워드로 시작함.

이름을 갖고있지 않기 때문에 바로 파라미터 목록이 옴.  
파라미터 선언 문법은 함수와 동일함.  
생성자 바디에서는 속성을 초기화하는 코드를 구현함.  

생성자는 속성 초기화가 가장 중요하고, 유일한 목적!!   
초기화에 필요한 코드만 작성해서 가능한 빠르게 실행되도록 구현하는게 중요함.

 

단순한 생성자를 만들어보자.  
- 생성자는 속성 초기화가 가장 중요함   
- 생성자 실행이 종료되는 시점에는 모든 속성에 초기값이 저장되어 있어야 함

```swift
// 좌표 저장 클래스 생성
class Position {
    var x: Double
    var y: Double
    
    // 모든 속성을 0으로 초기화하는 생성자 추가
    // 지금은 모두 0으로 초기화하니까 파라미터가 필요없어서 빈 괄호를 쓴다.
    // 모든 속성을 초기화하지 않으면 에러가 난다.
    init() {
        x = 0.0
        y = 0.0
    }
    
    // 파라미터를 받는 생성자 추가
    // 여기서는 value 파라미터를 받아서 두 속성을 초기화하고 있다.
    init(value: Double) {
        x = value
        y = value
    }
}
```

구조체와 열거형에서 생성자를 구현할 때도 같은 문법을 사용함.

함수는 함수 이름으로 호출하고,  
생성자는 이름이 없음.

호출을 위해서는 이름이 필요한데, 생성자는 형식 이름을 사용함.  
이름 다음에 `()` 괄호를 쓰는 것과 파라미터를 전달하는 문법은 함수와 동일함.

 

생성자를 호출해서 인스턴스를 생성해보자.

```swift
// 생성자를 호출해서 인스턴스 생성
// 파라미터가 없는 생성자 호출
let a = Position()
a.x // 0
a.y // 0

// 파라미터가 있는 생성자 호출
let b = Position(value: 100)
b.x // 100
b.y // 100
```

열거형, 구조체, 클래스는 모두 설계도이고,  
설계도에 따라서 인스턴스를 만들려면 초기화 과정이 반드시 필요함.

생성자를 호출하면 초기화가 시작되고,  
생성자 실행이 완료되면 모든 속성이 초기화됨.

에러없이 초기화가 완료되면 인스턴스가 생성됨.
