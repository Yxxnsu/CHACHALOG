---
title: 'π• [Swift] ν΄λ΅μ €(Closure)'
date: 2021-01-09 23:44:00
category: 'Swift'
draft: false
showToc: true
---

![1](https://user-images.githubusercontent.com/55340876/110242114-ded19b00-7f97-11eb-816d-c1db06e6baaf.png)

**λΉ„κµμ  μ§§κ³  λ…λ¦½μ μΈ μ½”λ“μ΅°κ°**

μΌλ‹¨ μ§€κΈμ€ μ΄λ¦„μ΄ μ—†λ” μµλ… ν•¨μλ¥Ό ν΄λ΅μ €λΌκ³  μƒκ°ν•΄μ£Όμ.

<span style="color: red;">**ν΄λ΅μ €λ„ λ§μ°¬κ°€μ§€λ΅ First-class Citizen!!!**</span>

- λ³€μλ‚ μƒμμ— μ €μ¥ν•  μ μμ
- νλΌλ―Έν„°λ΅ μ „λ‹¬ν•  μ μμ
- ν•¨μμ™€ λ©”μ„λ“μ—μ„ λ¦¬ν„΄ν•  μ μμ

</br>

μ”λ ν•λ ¤λ©΄ μλ£ν•μ΄ ν•„μ”ν•λ°, ν•¨μ νƒ€μ…κ³Ό μ™„μ „ν λ™μΌν•¨.

ν•¨μμ™€ ν΄λ΅μ €λ” μ„λ΅ νΈν™λ¨.  
μλ£ν•μ΄ κ°™λ‹¤λ©΄ ν•¨μλ¥Ό μ „λ‹¬ν•λ” κ³³μ— ν΄λ΅μ €λ¥Ό μ „λ‹¬ν•  μ μκ³ ,  
λ°λ€λ„ κ°€λ¥!

```swift
{ (νλΌλ―Έν„°) -> λ¦¬ν„΄νƒ€μ… in
   μ‹¤ν–‰κµ¬λ¬Έ
}
```

```swift
{ μ‹¤ν–‰κµ¬λ¬Έ }
```

ν΄λ΅μ €λ” `func` ν‚¤μ›λ“κ°€ μμ΄.  
`{}` brace λ‚΄λ¶€μ— λ¨λ“  μ”μ†λ¥Ό λ‹΄μ.

νλΌλ―Έν„° ~ λ¦¬ν„΄νƒ€μ…κΉμ§€λ¥Ό **ν΄λ΅μ € ν—¤λ“**λΌκ³  ν•λ”λ°,  
ν΄λ΅μ € ν—¤λ“λ” **ν΄λ΅μ € λ°”λ””**μ™€ `in` ν‚¤μ›λ“λ΅ κµ¬λ¶„ν•¨.

ν•¨μμ™€ λ§μ°¬κ°€μ§€λ΅ νλΌλ―Έν„°μ™€ λ¦¬ν„΄ν•μ„ μƒλµν•  μ μκ³ ,  
μ΄ κ²½μ°μ—λ” `in` ν‚¤μ›λ“λ„ ν•¨κ» μƒλµν•¨!

<span style="color: red;">**ν΄λ΅μ € ν‘ν„μ‹μ„ κΈ€λ΅λ² μ¤μ½”ν”„μ—μ„ λ‹¨λ…μΌλ΅ μ‘μ„±ν•  μ μ—†μ!!!  
ν΄λ΅μ € ν‘ν„μ‹μ„ κΈ€λ΅λ² μ¤μ½”ν”„μ—μ„ λ‹¨λ…μΌλ΅ μ‘μ„±ν•  μ μ—†μ!!!  
ν΄λ΅μ € ν‘ν„μ‹μ„ κΈ€λ΅λ² μ¤μ½”ν”„μ—μ„ λ‹¨λ…μΌλ΅ μ‘μ„±ν•  μ μ—†μ!!!**</span>

# λ¬Έμμ—΄ μ¶λ ¥ ν΄λ΅μ €

```swift
let c = { print("Hello, Swift") }
c() // Hello, Swift
```

ν΄λ΅μ € ν‘ν„μ‹μ„ κΈ€λ΅λ² μ¤μ½”ν”„μ—μ„ λ‹¨λ…μΌλ΅ μ‘μ„±ν•  μ μ—†μΌλ‹κΉ  
`c` μƒμμ— μ €μ¥ν•΄μ¤.  
μ–λ” νλΌλ―Έν„°μ™€ λ¦¬ν„΄νƒ€μ…μ΄ μƒλµλ ν΄λ΅μ €μ„.

μ΄ λ•,  
`c` μƒμμ νƒ€μ…μ„ λ³΄λ©΄

![1](https://user-images.githubusercontent.com/55340876/110242394-37edfe80-7f99-11eb-8909-991ef384e2c5.png)

`() -> ()`  
νλΌλ―Έν„°μ™€ λ¦¬ν„΄νƒ€μ…μ΄ μ—†λ” νƒ€μ…μ„.

ν΄λ΅μ €λ” μ΄λ¦„μ΄ μ—†λ” μµλ… ν•¨μμΈλ°,  
μ§€κΈμ€ `c` λΌλ” μ΄λ¦„μ„ λ¶™μ—¬μ¤€κ³ μ„!

`c()`λ΅ ν•¨μ νΈμ¶μ„ ν•λ©΄ λ¬Έμμ—΄μ΄ μ¶λ ¥λλ”κ³ μ„!!

# νλΌλ―Έν„°μ™€ λ¦¬ν„΄νƒ€μ…μ„ μ¶”κ°€ν• ν΄λ΅μ €

```swift
let c = { (str: String) -> String in
   return "Hello, \(str)"
}

let result = c("ν΄λ΅μ €")
print(result) // Hello, ν΄λ΅μ €
```

νλΌλ―Έν„°λ‘ λ¦¬ν„΄νƒ€μ…μ„ μ¶”κ°€ν•λ‹κΉ ν•¨μλ‘ μ™„μ „ν λ™μΌν• λ¬Έλ²•μ„.

μ°¨μ΄μ μ΄λΌ ν•λ©΄??  
<span style="color: red;">**ν΄λ΅μ €λ” μΈμ λ μ΄λΈ”μ„ μ‚¬μ©ν•μ§€ μ•μ.  
ν΄λ΅μ €λ” μΈμ λ μ΄λΈ”μ„ μ‚¬μ©ν•μ§€ μ•μ.  
ν΄λ΅μ €λ” μΈμ λ μ΄λΈ”μ„ μ‚¬μ©ν•μ§€ μ•μ.**</span>

# ν΄λ΅μ €λ¥Ό νλΌλ―Έν„°λ΅ μ „λ‹¬ν•κΈ° β­οΈ

```swift
let c = { (str: String) -> String in
   return "Hello, \(str)"
}

let result = c("ν΄λ΅μ €")

// κ°€λ…μ„±μ„ μ„ν•΄ λ³„λ… μ„ μ–Έ
typealias SimpleClosure = (String) -> String

func test(closure: SimpleClosure) {
   print(closure("iOS"))
}

test(closure: c) // Hello, iOS
```

ν΄λ΅μ €λ¥Ό νλΌλ―Έν„°λ΅ μ „λ‹¬ν•λ” κ²½μ°,  
`typealias`λ¥Ό μ‚¬μ©ν•μ—¬ κΉ¨λ¥΄κΌΌν•κ² μ‚¬μ©ν•  μ μμ.

`func test(closure: (String) -> String) { }` μ²λΌ  
ν•¨μμ— `closure`λΌλ” λ μ΄λΈ”μ—λ‹¤κ°€ ν΄λ΅μ €λ¥Ό μ„ μ–Έν•  μλ„ μμ§€λ§!!

`SimpleClosure`λΌλ” λ³„λ…μ„ μ„ μ–Έν• λ’¤μ— ν΄λ΅μ € νƒ€μ…λ¥Ό μ €μ¥ν•κ³ ,  
νλΌλ―Έν„°μ— SimpleClosure λ„£μ–΄μ¤μ„ κΉ¨λ¥΄κΌΌν•κ² μ‚¬μ©μ΄ κ°€λ¥!!

μΈμλ΅ μ „λ‹¬ν• `c`λ” `test` ν•¨μμ νλΌλ―Έν„°λ΅ μ „λ‹¬ λ¨.  
κ·ΈλΌ ν•¨μ λ°”λ””μ—μ„ μ „λ‹¬λ ν΄λ΅μ €λ¥Ό νΈμ¶ν•κ³ ,  
`iOS` λ¬Έμμ—΄μ„ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•¨.

`c`μ— μ €μ¥λ ν΄λ΅μ €λ¥Ό λ³΄λ©΄ νλΌλ―Έν„°λ΅ μ „λ‹¬λ λ¬Έμμ—΄ μ•μ— `Hello,` λ¬Έμμ—΄μ΄ λ¶™μ–΄μκ³   
κ·Έ λ¬Έμμ—΄μ„ λ¦¬ν„΄ν•κ³  μμ.

`test` ν•¨μμ—μ„λ” ν΄λ΅μ €κ°€ λ¦¬ν„΄ν• λ¬Έμμ—΄ iOSλ¥Ό print ν•¨μλ΅ νΈμ¶ν•κ³  μμ.  
κ·Έλμ„ `Hello, iOS` κ°€ μ¶λ ¥λ¨!

# μΈλΌμΈ ν΄λ΅μ €

**ν΄λ΅μ € μμ²΄λ¥Ό μ§μ ‘ μΈμμ— μ „λ‹¬**

```swift
let c = { (str: String) -> String in
   return "Hello, \(str)"
}

let result = c("ν΄λ΅μ €")

// κ°€λ…μ„±μ„ μ„ν•΄ λ³„λ… μ„ μ–Έ
typealias SimpleClosure = (String) -> String

func test(closure: SimpleClosure) {
   print(closure("iOS"))
}

test(closure: { (str: String) -> String in
   return "μ•λ…•, \(str)"
}) // μ•λ…•, iOS
```

μΈμ μ„μΉμ— μ§μ ‘ μ‘μ„±ν• ν΄λ΅μ €λ¥Ό <span style="color: red;">**μΈλΌμΈ ν΄λ΅μ €**</span> λΌκ³  λ¶€λ¦„!

# λ°°μ—΄ ν•„ν„°λ§ β­οΈ

μ ν’ μ΄λ¦„μ— `Pro`κ°€ ν¬ν•¨λ κ²ƒλ§ ν•„ν„°λ§ ν•΄λ³΄μ.

```swift
let products = [
   "MacBook Air", "MacBook Pro",
   "iMac", "iMac Pro", "Mac Pro", "Mac mini",
   "iPad Pro", "iPad", "iPad mini",
   "iPhone 12", "iPhone12 Pro",
   "AirPods", "AirPods Pro",
   "Apple Watch"
]
```

μΌλ‹¨ λ°°μ—΄μ„ μ„ μ–Έν•΄μ£Όκ³ ~

<span style="color: blue;">**κ²€μƒ‰μ΄λ‚ μ •λ ¬κ³Ό κ΄€λ ¨λ APIλ” λ€λ¶€λ¶„ ν΄λ΅μ €λ¥Ό νλΌλ―Έν„°λ΅ λ°›μ.**</span>  
λ°°μ—΄μ΄ μ κ³µν•λ” `filter` λ©”μ„λ“λ¥Ό ν™μ”ν•΄λ΄…μ„Έ.

ν΄λ΅μ € μμ²΄λ¥Ό μΈμμ— μ§μ ‘ μ „λ‹¬ν•κ²λ” μΈλΌμΈ ν΄λ΅μ €λ¥Ό μ‘μ„±ν•¨.  
λ‚΄κ°€ νΈμ¶ν•λ”κ² μ•„λ‹λΌ,  
`filter` λ©”μ„λ“ λ‚΄λ¶€μ—μ„ νΈμ¶ν•¨!

<span style="color: red;">**filter**</span>  
ν΄λ΅μ €λ΅ λΉ„κµν• ν›„, μΌμΉν•λ” κ°’μ„ μƒλ΅μ΄ λ°°μ—΄λ΅ λ°ν™ν•¨.

```swift
func filter(_ isIncluded: (Self.Element) throws -> Bool) rethrows -> [Self.Element]
```

μ΄ λ•, λ§¤κ°λ³€μμΈ `isIncluded` λ”  
ν•΄λ‹Ή μ”μ†κ°€ λ°ν™λ  μƒλ΅μ΄ λ°°μ—΄μ— ν¬ν•¨λμ–΄μ•Ό ν•λ”μ§€~ λ§λ”μ§€~ λ¥Ό λ‚νƒ€λ‚΄κ²λ”  
Bool κ°’μ„ λ°ν™ν•λ” ν΄λ΅μ €μ„.

`filter` λ©”μ„λ“μ νλΌλ―Έν„° ν•μ‹μ„ λ³΄μ‚Ό.

![1](https://user-images.githubusercontent.com/55340876/110243717-e0529180-7f9e-11eb-8588-e610e2c84cde.png)

ν΄λ΅μ €μΈμ§€ μ•„λ‹μ§€ νμ•…ν•  μ μμ?!

λ§μ•½ ν•λ‚μ κ°’μ„ λ°›λ”λ‹¤λ©΄ `Int`, `Double` κ°™μ€ λ‹¨μΌ ν•μ‹μΌλ΅ ν‘μ‹λ¨.

μλ¥Ό λ“¤λ©΄,

![2](https://user-images.githubusercontent.com/55340876/110243715-de88ce00-7f9e-11eb-896e-e774e734fd2d.png)

μƒλ‹¨μ— `count` λ©”μ„λ“λ” λ°°μ—΄μ κ°―μλ¥Ό νμ•…ν•λ” ν•λ‚μ `Int` κ°’μ„ λ°›λ” λ‹¨μΌ ν•μ‹μ„.  
μ¦‰, ν΄λ΅μ €κ°€ μ•„λ‹κ³ μ„!

`filter` λ©”μ„λ“μ νλΌλ―Έν„°λ”

```swift
(String) throws -> Boo
```

μ”λ λ‚μ™€μμ.  
`String`μ„ νλΌλ―Έν„°λ΅ λ°›μ•„μ„ `Bool`μ„ λ¦¬ν„΄ν•λ” ν΄λ΅μ €λΌλ” λ§!

**μ¤μ„ν”„νΈλ” νλΌλ―Έν„°λ΅ κ°’ λΏλ§ μ•„λ‹λΌ,  
μ½”λ“ μμ²΄λ¥Ό μ „λ‹¬ν•  μ μλ”λ°  
μ΄ λ• ν΄λ΅μ € ν•νƒλ΅ μ „λ‹¬ν•¨!**

## ν•„ν„°λ§

```swift
let products = [
   "MacBook Air", "MacBook Pro",
   "iMac", "iMac Pro", "Mac Pro", "Mac mini",
   "iPad Pro", "iPad", "iPad mini",
   "iPhone 12", "iPhone12 Pro",
   "AirPods", "AirPods Pro",
   "Apple Watch"
]

var proModels = products.filter({ (name: String) -> Bool in
   return name.contains("Pro")
})

print(proModels)
// ["MacBook Pro", "iMac Pro", "Mac Pro", "iPad Pro", "iPhone12 Pro", "AirPods Pro"]
```

μ—¬κΈ°μ„ μ²¨ λ³΄λ” λ©”μ„λ“ λ°κ²¬!!  
`return name.contains("Pro")`

<span style="color: red;">**contains**</span> λ©”μ„λ“λ” λ¬Έμμ—΄μ΄λ‚ λ°°μ—΄μ— νΉμ • λ¬Έμμ ν¬ν•¨μ—¬λ¶€λ¥Ό  
`Bool` κ°’μΌλ΅ λ°ν™ν•΄μ¤.

μƒλ‹¨ μ½”λ“μ κ²°κ³Όλ” μμ„κ°€ λ„λ¬΄ λλ¤μ„ γ…΅γ…΅  
μ •λ ¬ γ„±γ„±

## μ •λ ¬

```swift
print(proModels.sorted())
// ["AirPods Pro", "Mac Pro", "MacBook Pro", "iMac Pro", "iPad Pro", "iPhone12 Pro"]
```

μ¤‘μ”ν• κ²ƒμ€ **μ•„μ¤ν‚¤ μ½”λ“ ν…μ΄λΈ” κΈ°μ¤€μΌλ΅ μ •λ ¬**μ΄ λ¨!!

## λ€μ†λ¬Έμ κ΄€κ³„μ—†μ΄ μ¤λ¦„μ°¨μ μ •λ ¬

μ΄ λ•λ” μ§μ ‘ μ •λ ¬ μ΅°κ±΄μ„ κµ¬ν„ν•΄μ•Όν•¨.

```swift
var proModels = products.filter({ (name: String) -> Bool in
   return name.contains("Pro")
})

proModels.sort(by: { (lhs: String, rhs: String) -> Bool in
   return lhs.caseInsensitiveCompare(rhs) == .orderedAscending
})

print(proModels)
// ["AirPods Pro", "iMac Pro", "iPad Pro", "iPhone12 Pro", "Mac Pro", "MacBook Pro"]
```

# μ½”λ“ μ‹¤ν–‰ μ§€μ—°

`deadline`μ€ μ§€μ—°μ‹ν‚¬ μ‹κ°„μ΄κ³  μ—¬κΈ°μ„  5μ΄λ¥Ό μ§€μ—°μ‹ν‚΄.  
`execute`λ” μ‹¤ν–‰ ν•  μ½”λ“.  
νλΌλ―Έν„°κ°€ μ—†κ³  λ¦¬ν„΄ν•μ΄ μ—†λ” ν΄λ΅μ € (voidλ” λ¦¬ν„΄ν•μ΄ μ—†λ‹¤λ” ν‚¤μ›λ“μ΄λ©° λΉ κ΄„νΈλ΅ λ€μ²΄ν•  μ μμ)

```swift
print("Start")

// μ½”λ“ μ‹¤ν–‰ μ§€μ—° μ‹μΌλ³΄κΈ°
DispatchQueue.main.asyncAfter(deadline: .now() + 5, execute: {
   print("End")

})
```

```swift
print("Start")

// λ¬Έλ²• μµμ ν™”λ¥Ό μ΄μ©ν• μƒλ‹¨κ³Ό λ™μΌν• μ½”λ“μ΄λ‹¤.
DispatchQueue.main.asyncAfter(deadline: .now() + 5) {
   print("End")
}
```
