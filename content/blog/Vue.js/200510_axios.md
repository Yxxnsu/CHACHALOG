---
title: 'âœ… [Vue.js] axiosë¥¼ ì•Œì•„ë³´ì'
date: 2020-05-10 21:28:00
category: 'Vue.js'
draft: false 
showToc: true
---


> [Vue.js ì™„ë²½ ê°€ì´ë“œ - ì‹¤ìŠµê³¼ ë¦¬íŒ©í† ë§ìœ¼ë¡œ ë°°ìš°ëŠ” ì‹¤ì „ ê°œë…](https://www.inflearn.com/course/vue-js/dashboard)  ê°•ì˜ë¥¼ í† ëŒ€ë¡œ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.  
>


# axios ì„¤ì¹˜ ë° ì ìš©

axios ëŠ” Promise ê¸°ë°˜ìœ¼ë¡œ API ë¥¼ ì œê³µí•œë‹¤.



```
npm i axios --save
```

package.json ì— ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸í•„!!!



```js
// NewsView.vue

<script>
import axios from 'axios';
  
export default {
  data() {
    return {
      users: []
    }
  },
  created() {
    axios.get('https://api.hnpwa.com/v0/news/1.json')
      .then(response => console.log(response))
      .catch(error => console.log(error));
  },
}
</script>
```

![ìŠ¤í¬ë¦°ìƒ· 2020-05-11 ì˜¤ì „ 1 53 49](https://user-images.githubusercontent.com/55340876/81505467-442e0e80-932a-11ea-84e8-4495b082014d.png)



ìš”ë¡œì½”ë¡¬ ì½˜ì†”ì„ ì°ì–´ë³´ë©´ ë°›ì•„ì˜¨ ë°ì´í„°ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤!



ğŸ¤”.. ì €ëŸ°ì‹ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ì„í¬íŠ¸ í•´ì„œ ì‚¬ìš©í•´ì¤˜ë„ ë˜ì§€ë§Œ ê·¸ë ‡ê²Œë˜ë¯„ ë„ˆë¬´ ë‚¨ë°œí•˜ë‹ˆê¹Œ..   
**í´ë” í•˜ë‚˜ì— ë„£ê³  ê·¸ëƒ¥ ê°–ë‹¤ì“°ëŠ”ê²Œ í¸í•˜ë‹¤!**



---

## api í˜¸ì¶œ í•´ë³´ê¸°



**src > api > index.js**

```js
import axios from 'axios';

// 1. HTTP Request & Response ì™€ ê´€ë ¨ëœ ê¸°ë³¸ ì„¤ì •
const config = {
  baseUrl: 'https://api.hnpwa.com/v0/' // ê¸°ë³¸ì ìœ¼ë¡œ ì¤‘ë³µë˜ëŠ” url ì£¼ì†Œ ë¶€ë¶„
};

// 2. API í•¨ìˆ˜ë“¤ì„ ì •ë¦¬
function fetchNewsList() {
  return axios.get(`${config.baseUrl}news/1.json`); // ë‚˜ë¨¸ì§€ ì£¼ì†Œ
}

export {
	fetchNewsList
}
```

ìš”ë¡œì½”ë¡¬ í•œíŒŒì¼ì— ì •ë¦¬ë¥¼ í•´ì£¼ê³ ~



```html
// NewsView.vue

<template>
	<div>
    <div v-for="user in users">
      {{ user.title }}
  	</div>
  </div>
</template>

<script>
import { fetchNewsList } from '../api/index.js';
  
export default {
  data() {
    return {
      users: []
    }
  },
  // created() : ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ìë§ˆì ì‹¤í–‰ë˜ëŠ” ë¡œì§ì´ ë“¤ì–´ê°„ë‹¤. ë¼ì´í”„ì‚¬ì´í´í›….
  created() { // ì†ì„±ì— í•¨ìˆ˜ê°€ ë¶™ìœ¼ë©´(ì˜ˆë¥¼ ë“¤ë©´ created: function(){} ìš”ë†ˆ) ì¤„ì—¬ì„œ ì“´ë‹¤. ES6 ì¶•ì•½ë¬¸ë²•.
    var vm = this;
    fetchNewsList()
      .then(function(response) {
        console.log(response);
        vm.users = response.data;
      })
      .catch(function(error) { // .catch ëŠ” Promise ì—ì„œ ë¬´ì¡°ê±´ ë¶™ì´ëŠ” ì—ëŸ¬ ì²˜ë¦¬ êµ¬ë¬¸ì´ë‹¤.
        console.log(error);
      });
  },
}
</script>
```

ì´ë•Œ, ê·¸ëƒ¥ `this.users = respronse.data;` ë¥¼ í•˜ë©´ ì•ˆëœë‹¤.   
ì™œëƒ?! 

**ì½œë°± í•¨ìˆ˜ ìì²´ëŠ” this ë°”ì¸ë”©ì´ í˜„ì¬ ë·° ì»´í¬ë„ŒíŠ¸(ë·° ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ë°”ë¼ë³´ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì—**  
`var vm = this;` ìœ¼ë¡œ ì—°ê²°í•´ì¤˜ì•¼ í•œë‹¤.  



ì´ ë•Œë¬¸ì— `í™”ì‚´í‘œí•¨ìˆ˜` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ìˆëŠ”ë° ì¼ë‹¨ thisê°€ ë¬´ì—‡ì„ ê°€ë¦¬í‚¤ëŠ”ì§€ ì½˜ì†”ì„ ì°ì–´ë³´ì.

```js
  created() { 
    // var vm = this;
    console.log('í˜¸ì¶œ ì „: ', this);
    fetchNewsList()
      .then(function(response) {
        console.log('í˜¸ì¶œ í›„: ', this);
        // vm.users = response.data;
      })
      .catch(function(error) { 
        console.log(error);
      });
  },
```

![ìŠ¤í¬ë¦°ìƒ· 2020-05-16 ì˜¤í›„ 1 31 22](https://user-images.githubusercontent.com/55340876/82110437-8cf62500-9779-11ea-8381-25b773366e1f.png)

í˜¸ì¶œì „ì—ëŠ” ë·° ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ë¦¬í‚¤ê³ , í˜¸ì¶œ í›„ì—ëŠ” undefined ë¥¼ ê°€ë¦¬í‚¨ë‹¤.  s
ì´ë•Œ ì½œë°± í•¨ìˆ˜ë¥¼ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ë°”ê¿” ì“´ë‹¤ë©´?

```js
  created() { 
    console.log('í˜¸ì¶œ ì „: ', this);
    fetchNewsList()
      .then(response => {
        console.log('í˜¸ì¶œ í›„: ', this);
        this.users = response.data; // ìš”ë”°ê°€!
      })
      .catch(function(error) { 
        console.log(error);
      });
  },
```

![ìŠ¤í¬ë¦°ìƒ· 2020-05-16 ì˜¤í›„ 1 37 01](https://user-images.githubusercontent.com/55340876/82110567-553bad00-977a-11ea-9b4a-30d80940f43b.png)

í˜¸ì¶œ ì „ê³¼ í›„ê°€ ê°™ì•„ì§„ë‹¤!

ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ë¦¬í‚¤ëŠ” this ë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¤ëŠ”ê²Œ ì¤‘ìš”í•œë°,   
ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ API ë¥¼ ë§ì´ í˜¸ì¶œí•˜ëŠ” ìƒí™©ì—ì„œ  
ìœ„ì—ì„œ `var vm = this;`  ë¥¼ í•´ì£¼ëŠ” ë²ˆê±°ë¡œì›€ì„ í•´ì†Œì‹œì¼œì£¼ëŠ” ê²ƒ!  

==í™”ì‚´í‘œ í•¨ìˆ˜ ì§±ì§±ë§¨==



---



# í”„ì ì—ì„œ ì¨ë³´ì!!!

**api > index.js**

```js
import axios from 'axios';

function registerUser(userData) {
  const url = 'http://localhost:3000/signup'; // API ì—”ë“œí¬ì¸íŠ¸ : ì„œë²„ì£¼ì†Œ
  return axios.post(url, userData); // postë¡œ ìš”ì²­ì„ ë‚ ë¦¬ëŠ”ë° ì´ë•Œ ì²«ë²ˆì§¸ ì¸ìë¡œ í•„ìš”í•œê±´ url, ë‘ë²ˆì§¸ ì¸ìëŠ” data!
}

export { registerUser }; // export ë¥¼ í•´ì¤Œìœ¼ë¡œì¨ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ registerUser ë¥¼ ë“¤ê³ ì™€ì„œ í˜¸ì¶œ ê°€ëŠ¥!
```

ê¸°ë³¸ì ìœ¼ë¡œ `axios.post(url);` ê²°ê³¼ê°€ promise ì´ê¸° ë•Œë¬¸ì—  
`return` ì„ í•´ì¤˜ì•¼ì§€ registerUser ë¥¼ í˜¸ì¶œí•˜ê³  ì´í›„ ë¹„ë™ê¸° ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.



**src > components > SignupForm.vue** 

```js
import { registerUser } from '@/api/index'; // ë¶ˆëŸ¬ì˜¤ê¸°

export default {
  data() {
    return {
      username: '',
      password: '',
      nickname: '',
    };
  },
  methods: {
    async submitForm() {
      //console.log('í¼ ì œì¶œ');
      const userData = {
        username: this.username, // this ë¡œ í˜„ì¬ ë·° ì¸ìŠ¤í„´ìŠ¤ ì•ˆì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ë¥´í‚´
        password: this.password,
        nickname: this.nickname,
      };
      const response = await registerUser(userData); // ì¸ìë¡œ userData ë¥¼ ë„˜ê¸°ë©´ index.jsì— postì—ê¹Œì§€ ì „ë‹¬ì´ ëœë‹¤.
      console.log(response);
      initForm();
    },
    initForm() { // Form ì´ˆê¸°í™”
      this.username = '';
      this.password = '';
      this.nickname = '';
    }
  },
};
```

ì´ ë•Œ,

```js
      };
      const response = await registerUser(userData); 
      console.log(response);
      initForm();
    },
```

ì´ ë¶€ë¶„ì„ êµ¬ì¡° ë¶„í•´ í•´ë³´ìë©´

```js
      };
      const { data } = await registerUser(userData); 
      console.log(data.username); // data ì˜ username ì„ í™•ì¸
      initForm();
    },
```










---
---

# Reference  
- [Vue.js ì™„ë²½ ê°€ì´ë“œ - ì‹¤ìŠµê³¼ ë¦¬íŒ©í† ë§ìœ¼ë¡œ ë°°ìš°ëŠ” ì‹¤ì „ ê°œë…](https://www.inflearn.com/course/vue-js/dashboard)
- [[Async, ë¹„ë™ê¸°] Axios íŠœí† ë¦¬ì–¼]([https://velog.io/@rohkorea86/%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B9%84%EB%8F%99%EA%B8%B0%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%B0%A8%EA%B7%BC%EC%B0%A8%EA%B7%BC-%EB%8B%A4%EB%A3%A8%EB%A0%A4%EA%B3%A0-%ED%95%A9%EB%8B%88%EB%8B%A4](https://velog.io/@rohkorea86/ë¹„ë™ê¸°-ë¹„ë™ê¸°ì—-ëŒ€í•´ì„œ-ì°¨ê·¼ì°¨ê·¼-ë‹¤ë£¨ë ¤ê³ -í•©ë‹ˆë‹¤))

