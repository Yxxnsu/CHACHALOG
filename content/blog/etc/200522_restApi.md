---
title: 'π¥ [etc] REST API μ¬μ •λ¦¬'
date: 2020-05-22 00:20:00
category: 'etc'
draft: false
showToc: true
---

<!-- μ„μ‹ μ €μ¥ κΈ€ -->
<!-- Draft Post -->
<!-- Draft Post -->
<!-- Draft Post -->
<!-- Draft Post -->
<!-- Draft Post -->

# RESTλ€

- Representational State Transfer
- λ¶„μ‚° λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλλ° μ•„ν‚¤ν…μ² μ¤νƒ€μΌ

# RESTκ°€ ν•„μ”ν• μ΄μ 

- μ• ν”λ¦¬μΌ€μ΄μ… λ¶„λ¦¬ λ° ν†µν•©
- λ‹¤μ–‘ν• ν΄λΌμ΄μ–ΈνΈμ λ“±μ¥

# RESTμ κµ¬μ„±

- μμ›(Resource) - URI
- ν–‰μ„(Verb) - HTTP METHOD
- ν‘ν„(Representations)



---

# RESTμ νΉμ„±

- **μ λ‹νΌ μΈν„°νμ΄μ¤(Uniform)**
  - URIλ΅ μ§€μ •ν• λ¦¬μ†μ¤μ— λ€ν• μ΅°μ‘ ν†µμΌ, ν•μ •μ μΈ μΈν„°νμ΄μ¤λ΅ μν–‰ν•λ” μ•„ν‚¤ν…μ² μ¤νƒ€μΌ
- **λ¬΄μƒνƒμ„±(Stateless)**
  - μƒνƒμ •λ³΄λ¥Ό λ”°λ΅ μ €μ¥ν•κ±°λ‚ κ΄€λ¦¬ν•μ§€ μ•μ
  - μ„Έμ…μ •λ³΄λ‚ μΏ ν‚¤μ •λ³΄λ¥Ό λ³„λ„λ΅ μ €μ¥ν•κ³  κ΄€λ¦¬ν•μ§€ μ•κΈ° λ–„λ¬Έμ— λ“¤μ–΄μ¤λ” μ”μ²­λ§ μ²λ¦¬ν•λ©΄ λ¨
  - λ•λ¬Έμ— μμ λ„κ°€ λ†’μ•„μ§€κ³  λ¶ν•„μ”ν• μ •λ³΄λ¥Ό μ„λ²„κ°€ κ΄€λ¦¬ν•μ§€ μ•κΈ° λ•λ¬Έμ— κµ¬ν„μ΄ λ‹¨μν•΄μ§
- **μΊμ‹ κ°€λ¥(Cacheable)**
  - HTTP κΈ°μ΅΄ μ›Ή ν‘μ¤€μ„ κ·Έλ€λ΅ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— μ›Ήμ—μ„ μ‚¬μ©ν•λ” κΈ°μ΅΄ μΈν”„λΌλ¥Ό κ·Έλ€λ΅ ν™μ© κ°€λ¥
  - Last-Modified νƒκ·Έλ‚ E-Tagλ¥Ό μ΄μ©ν•λ©΄ μΊμ‹± κµ¬ν„ κ°€λ¥
- **μμ²΄ ν‘ν„ κµ¬μ΅°(Self-descriptiveness)**
  - REST API λ©”μ‹μ§€λ§ λ³΄κ³ λ„ μ‰½κ² μ΄ν•΄ν•  μ μλ” μμ²΄ ν‘ν„ κµ¬μ΅°
- **ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ…λ¦½μ μΌλ΅ κµ¬λ¶„**
- **κ³„μΈµν• κµ¬μ΅°**
  - λ‹¤μ¤‘ κ³„μΈµμΌλ΅ κµ¬μ„±λ  μ μμ
  - λ³΄μ•, λ΅λ“ λ°Έλ°μ‹±, μ•”νΈν™” κ³„μΈµμ„ μ¶”κ°€ν•΄ μ μ—°μ„±μ„ λ‘ μ μμ
  - PROXY, Gatewayκ°™μ€ λ„¤νΈμ›ν¬ κΈ°λ°μ μ¤‘κ°„λ§¤μ²΄λ„ μ‚¬μ©ν•  μ μμ



---

# REST API λ””μμΈ κ°€μ΄λ“

- **URIλ” μ •λ³΄μ μμ›μ„ ν‘ν„ν•΄μ•Όν•λ‹¤**

  - URIλ” μ •λ³΄μ μμ›μ„ ν‘ν„ν•΄μ•Όν•λ‹¤.

    > GET /members/delete/1

     μλ»λ ν‘ν„μ΄λ‹¤. deleteκ°™μ€ ν–‰μ„μ— λ€ν• ν‘ν„μ΄ λ“¤μ–΄κ°€λ©΄ μ•λ¨

- **μμ›μ— λ€ν• ν–‰μ„λ” HTTP Method(GET, POST, PUT, DELETE)λ΅ ν‘ν„ν•λ‹¤.**

  - μ„μ μλ»λ ν‘ν„μ„ μμ •ν•λ©΄

  > DELETE /members/1

- **Example**

  > GET /members/show/1 (X)
  >
  > GET / members/1 (O)

  > GET /members/insert/2 (X)
  >
  > POST /members/2 (O)

- **URI μ„¤κ³„ μ‹ μ£Όμν•  μ **

  - μ¬λμ‹ κµ¬λ¶„μ(/)λ” κ³„μΈµ κ΄€κ³„λ¥Ό λ‚νƒ€λ‚΄λ” λ° μ‚¬μ©

    > /houses/apartments
    >
    > /animals/mammals/whales

  - URI λ§μ§€λ§‰λ¬Έμλ΅ μ¬λμ‹(/)λ¥Ό ν¬ν•¨ν•μ§€ μ•λ”λ‹¤.

  - ν•μ΄ν”(-)μ€ URI κ°€λ…μ„±μ„ λ†’μ΄λ”λ° μ‚¬μ©ν•  μ μλ‹¤.

  - λ°‘μ¤„(_)μ€ URIμ— μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.

  - URIκ²½λ΅μ—λ” μ†λ¬Έμκ°€ μ ν•©ν•λ‹¤.

    - λ€λ¬Έμλ” ν”Όν•΄μ•Ό ν•λ‹¤. λ€μ†λ¬Έμμ— λ”°λΌ λ‹¤λ¥Έ λ¦¬μ†μ¤λ΅ μΈμ‹ν•κ² λκΈ° λ•λ¬Έ

  - νμΌν™•μ¥μλ” URIμ— ν¬ν•¨μ‹ν‚¤μ§€ μ•λ”λ‹¤.

- **λ¦¬μ†μ„ κ°„μ κ΄€κ³„λ¥Ό ν‘ν„ν•λ” λ°©λ²•**

  - λ¦¬μ†μ¤ κ°„μ—λ” μ—°κ΄€ κ΄€κ³„κ°€ μμ„ μ μλ‹¤.

    > /λ¦¬μ†μ¤λ…/λ¦¬μ†μ¤ ID/κ΄€κ³„κ°€ μλ” λ‹¤λ¥Έ λ¦¬μ†μ¤λ…
    >
    > GET : /users/{userid}/devices (μΌλ°μ μΌλ΅ μ†μ  'has'μ κ΄€κ³„λ¥Ό ν‘ν„ν•  λ•)

  - κ΄€κ³„λ…μ΄ λ³µμ΅ν•λ‹¤λ©΄ μ„λΈ λ¦¬μ†μ¤μ— λ…μ‹μ μΌλ΅ ν‘ν„,

    > ex) μ‚¬μ©μκ°€ 'μΆ‹μ•„ν•λ”' λ””λ°”μ΄μ¤ λ©λ΅
    >
    > GET : /users/{userid}/likes/devices (κ΄€κ³„λ…μ΄ μ• λ§¤ν•κ±°λ‚ κµ¬μ²΄μ  ν‘ν„μ΄ ν•„μ”ν•  λ•)



---

# HTTP METHODμ μ•λ§μ€ μ—­ν• 

| METHOD | μ—­ν•                                                          |
| ------ | ------------------------------------------------------------ |
| POST   | POSTλ¥Ό ν†µν•΄ ν•΄λ‹Ή URIμ— μ”μ²­ν•λ©΄ λ¦¬μ†μ¤ μƒμ„±                  |
| GET    | GETμ„ ν†µν•΄ ν•΄λ‹Ή λ¦¬μ†μ¤λ¥Ό μ΅°ν, λ¦¬μ†μ¤λ¥Ό μ΅°νν•κ³  ν•΄λ‹Ή λ„νλ¨ΌνΈμ— λ€ν• μμ„Έν• μ •λ³΄λ¥Ό κ°€μ Έμ΄ |
| PUT    | PUTμ„ ν†µν•΄ ν•΄λ‹Ή λ¦¬μ†μ¤λ¥Ό μμ •                                |
| DELETE | DELETEλ¥Ό ν†µν•΄ λ¦¬μ†μ¤λ¥Ό μ‚­μ                                   |

<br/>

---

<br/>

# HTTP μ‘λ‹µ μƒνƒ μ½”λ“

| μƒνƒμ½”λ“ |                                                              |
| -------- | ------------------------------------------------------------ |
| 200      | ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ •μƒμ μΌλ΅ μν–‰ν•¨                        |
| 201      | ν΄λΌμ΄μ–ΈνΈκ°€ μ–΄λ– ν• λ¦¬μ†μ¤ μƒμ„±μ„ μ”μ²­, ν•΄λ‹Ή λ¦¬μ†μ¤κ°€ μ„±κ³µμ μΌλ΅ μƒμ„±λ¨(POSTλ¥Ό ν†µν• λ¦¬μ†μ¤ μƒμ„± μ‘μ—… μ‹) |

<br/>

| μƒνƒμ½”λ“ |                                                              |
| -------- | ------------------------------------------------------------ |
| 400      | ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ λ¶€μ μ ν•  κ²½μ° μ‚¬μ©                       |
| 401      | ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦λμ§€ μ•μ€ μƒνƒμ—μ„ λ³΄νΈλ λ¦¬μ†μ¤λ¥Ό μ”μ²­ν–μ„ λ• μ‚¬μ© |
|          | (λ΅κ·ΈμΈν•μ§€ μ•μ€ μ μ €κ°€ λ΅κ·ΈμΈ ν–μ„ λ•, μ”μ²­ κ°€λ¥ν• λ¦¬μ†μ¤λ¥Ό μ”μ²­ν–μ„ λ•) |
| 403      | μ μ € μΈμ¦μƒνƒμ™€ κ΄€κ³„μ—†μ΄ μ‘λ‹µν•κ³ μ‹¶μ§€ μ•μ€ λ¦¬μ†μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν–μ„ λ• μ‚¬μ© |
|          | (403λ³΄λ‹¤λ” 400μ΄λ‚ 404λ¥Ό μ‚¬μ©ν•  κ²ƒμ„ κ¶κ³ , 403 μμ²΄κ°€ λ¦¬μ†μ¤κ°€ μ΅΄μ¬ν•λ‹¤λ” λ») |
| 405      | ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ¦¬μ†μ¤μ—μ„λ” μ‚¬μ© λ¶κ°€λ¥ν• Methodλ¥Ό μ΄μ©ν–μ„ κ²½μ° μ‚¬μ© |

<br/>

| μƒνƒμ½”λ“ |                                                            |
| -------- | ---------------------------------------------------------- |
| 301      | ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ¦¬μ†μ¤μ— λ€ν• URIκ°€ λ³€κ²½λμ—μ„ λ• μ‚¬μ© |
|          | (μ‘λ‹µ μ‹ Location headerμ— λ³€κ²½λ URIλ¥Ό μ μ–΄μ¤μ•Ό ν•¨)       |
| 500      | μ„λ²„μ— λ¬Έμ κ°€ μμ„ κ²½μ° μ‚¬μ©ν•λ” μ‘λ‹µ μ½”λ“                 |